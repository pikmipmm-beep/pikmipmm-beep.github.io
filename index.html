<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QQVK NFT CASINO</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0a0a1a, #1a1a3a, #0a0a1a);
            color: white;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 1400px;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 20px;
            border: 2px solid rgba(0, 136, 204, 0.3);
        }

        h1 {
            font-size: 48px;
            background: linear-gradient(90deg, #0088cc, #00ffff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 10px;
        }

        .main-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
        }

        .game-area {
            background: rgba(10, 15, 30, 0.8);
            border-radius: 20px;
            padding: 25px;
            border: 2px solid rgba(0, 136, 204, 0.2);
        }

        .rocket-section {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }

        .rocket-container {
            flex: 1;
            height: 400px;
            background: linear-gradient(180deg, #000428, #004e92);
            border-radius: 15px;
            position: relative;
            overflow: hidden;
            border: 2px solid rgba(255, 100, 0, 0.3);
        }

        .rocket {
            position: absolute;
            bottom: 50px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 120px;
            transition: bottom 0.1s linear;
        }

        .rocket-body {
            width: 60px;
            height: 100px;
            background: linear-gradient(#ff3300, #ff9900);
            border-radius: 30px 30px 10px 10px;
            position: relative;
        }

        .rocket-flame {
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 30px;
            height: 40px;
            background: linear-gradient(#ffff00, #ff6600);
            border-radius: 50% 50% 0 0;
            filter: blur(5px);
            animation: flame 0.3s infinite alternate;
        }

        @keyframes flame {
            0% { height: 40px; }
            100% { height: 60px; }
        }

        .nft-preview {
            width: 300px;
            background: rgba(0, 20, 40, 0.6);
            border-radius: 15px;
            padding: 20px;
            border: 2px solid rgba(0, 204, 255, 0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .nft-image {
            width: 200px;
            height: 200px;
            border-radius: 10px;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #001122, #003355);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            border: 3px solid #00ccff;
        }

        .nft-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .nft-name {
            font-size: 18px;
            color: #00ffaa;
            font-weight: bold;
            text-align: center;
            margin-bottom: 5px;
        }

        .nft-value {
            font-size: 16px;
            color: #ffcc00;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .nft-collection {
            font-size: 14px;
            color: #a0e7ff;
            margin-bottom: 10px;
        }

        .bet-controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .bet-section {
            background: rgba(0, 0, 0, 0.4);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        h3 {
            color: #00ccff;
            margin-bottom: 15px;
            font-size: 20px;
        }

        .custom-bet input {
            width: 100%;
            padding: 15px;
            font-size: 24px;
            font-weight: bold;
            text-align: center;
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid #0088cc;
            border-radius: 10px;
            color: white;
            margin-bottom: 15px;
        }

        .bet-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        .bet-btn {
            padding: 12px;
            background: linear-gradient(#0088cc, #004488);
            border: none;
            border-radius: 8px;
            color: white;
            font-weight: bold;
            cursor: pointer;
        }

        .bet-btn.active {
            background: linear-gradient(#00cc66, #008844);
        }

        .game-buttons {
            display: flex;
            gap: 20px;
        }

        .game-btn {
            flex: 1;
            padding: 20px;
            font-size: 18px;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .launch-btn {
            background: linear-gradient(#ff3300, #ff9900);
            color: white;
        }

        .cashout-btn {
            background: linear-gradient(#00cc66, #008844);
            color: white;
        }

        .stats-area {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .balance-card {
            background: rgba(10, 15, 30, 0.8);
            padding: 25px;
            border-radius: 20px;
            border: 2px solid rgba(0, 136, 204, 0.2);
        }

        .multiplier-display {
            text-align: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            border: 2px solid rgba(255, 204, 0, 0.3);
            margin: 20px 0;
        }

        .multiplier-value {
            font-size: 48px;
            color: #ffcc00;
            font-weight: bold;
        }

        .inventory {
            background: rgba(10, 15, 30, 0.8);
            padding: 25px;
            border-radius: 20px;
            border: 2px solid rgba(0, 136, 204, 0.2);
        }

        .inventory-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            max-height: 300px;
            overflow-y: auto;
            padding: 10px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        .inventory-item {
            background: rgba(0, 30, 60, 0.6);
            border-radius: 8px;
            padding: 10px;
            text-align: center;
            border: 1px solid rgba(0, 204, 255, 0.2);
        }

        .inventory-item img {
            width: 80px;
            height: 80px;
            border-radius: 5px;
            margin-bottom: 5px;
        }

        .history {
            background: rgba(10, 15, 30, 0.8);
            padding: 25px;
            border-radius: 20px;
            border: 2px solid rgba(0, 136, 204, 0.2);
        }

        .history-list {
            list-style: none;
            max-height: 200px;
            overflow-y: auto;
            padding-right: 10px;
        }

        .history-item {
            padding: 10px;
            margin-bottom: 8px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 8px;
            border-left: 4px solid #0088cc;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-content {
            background: rgba(10, 15, 30, 0.95);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            border: 3px solid #00ccff;
            max-width: 500px;
            width: 90%;
        }

        @media (max-width: 1100px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .rocket-section {
                flex-direction: column;
            }
            
            .nft-preview {
                width: 100%;
            }
        }

        @media (max-width: 768px) {
            .bet-controls {
                grid-template-columns: 1fr;
            }
            
            .game-buttons {
                flex-direction: column;
            }
            
            h1 {
                font-size: 36px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>QQVK NFT CASINO</h1>
            <p style="color: #a0e7ff;">–ö–æ—Å–º–∏—á–µ—Å–∫–æ–µ –∫–∞–∑–∏–Ω–æ —Å NFT-–ø–æ–¥–∞—Ä–∫–∞–º–∏ –Ω–∞ TON</p>
        </header>
        
        <div class="main-content">
            <div class="game-area">
                <div class="rocket-section">
                    <div class="rocket-container" id="rocketContainer">
                        <div class="rocket" id="rocket">
                            <div class="rocket-body">
                                <div class="rocket-flame"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="nft-preview">
                        <div class="nft-image">
                            <img id="nftImage" src="" alt="NFT Preview">
                        </div>
                        <div class="nft-name" id="nftName">NFT Preview</div>
                        <div class="nft-value" id="nftValue">~ 0.00 TON</div>
                        <div class="nft-collection" id="nftCollection">–°–¥–µ–ª–∞–π—Ç–µ —Å—Ç–∞–≤–∫—É –æ—Ç 2 TON</div>
                    </div>
                </div>
                
                <div class="bet-controls">
                    <div class="bet-section custom-bet">
                        <h3>üí∞ –í–í–ï–î–ò–¢–ï –°–¢–ê–í–ö–£</h3>
                        <input type="number" id="customBet" min="0.1" max="1000" value="5" step="0.1">
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 15px;">
                            <button class="bet-btn" onclick="adjustBet(-10)">-10</button>
                            <button class="bet-btn" onclick="adjustBet(-1)">-1</button>
                            <button class="bet-btn" onclick="adjustBet(1)">+1</button>
                            <button class="bet-btn" onclick="adjustBet(10)">+10</button>
                            <button class="bet-btn" onclick="adjustBet(-0.1)">-0.1</button>
                            <button class="bet-btn" onclick="adjustBet(0.1)">+0.1</button>
                        </div>
                    </div>
                    
                    <div class="bet-section">
                        <h3>‚ö° –ë–´–°–¢–†–´–ï –°–¢–ê–í–ö–ò</h3>
                        <div class="bet-buttons">
                            <button class="bet-btn" onclick="setBet(1)">1 TON</button>
                            <button class="bet-btn" onclick="setBet(2)">2 TON</button>
                            <button class="bet-btn active" onclick="setBet(5)">5 TON</button>
                            <button class="bet-btn" onclick="setBet(10)">10 TON</button>
                            <button class="bet-btn" onclick="setBet(25)">25 TON</button>
                            <button class="bet-btn" onclick="setBet(50)">50 TON</button>
                            <button class="bet-btn" onclick="setBet(100)">100 TON</button>
                            <button class="bet-btn" onclick="setBet(500)">500 TON</button>
                        </div>
                    </div>
                </div>
                
                <div class="game-buttons">
                    <button class="game-btn launch-btn" id="launchBtn">
                        <i class="fas fa-rocket"></i> –ó–ê–ü–£–°–¢–ò–¢–¨ –†–ê–ö–ï–¢–£
                    </button>
                    <button class="game-btn cashout-btn" id="cashoutBtn" disabled>
                        <i class="fas fa-gift"></i> –ó–ê–ë–†–ê–¢–¨ NFT
                    </button>
                </div>
            </div>
            
            <div class="stats-area">
                <div class="balance-card">
                    <h3>üëõ –í–ê–® –ë–ê–õ–ê–ù–°</h3>
                    <div class="multiplier-display">
                        <div style="font-size: 18px; margin-bottom: 10px; color: #00ffaa;">–î–æ—Å—Ç—É–ø–Ω–æ:</div>
                        <div class="multiplier-value" id="balanceValue">1000 TON</div>
                    </div>
                    
                    <div class="multiplier-display">
                        <div style="font-size: 16px; margin-bottom: 10px;">–¢–ï–ö–£–©–ò–ô –ú–ù–û–ñ–ò–¢–ï–õ–¨</div>
                        <div class="multiplier-value" id="multiplierValue">x1.00</div>
                        <div style="display: flex; justify-content: space-between; margin-top: 15px;">
                            <span>–í—ã–∏–≥—Ä—ã—à:</span>
                            <span style="color: #00ffaa; font-weight: bold;" id="potentialWin">0.00 TON</span>
                        </div>
                    </div>
                </div>
                
                <div class="inventory">
                    <h3>üì¶ –í–ê–® –ò–ù–í–ï–ù–¢–ê–†–¨ NFT</h3>
                    <div class="inventory-grid" id="inventoryGrid">
                        <div style="grid-column: 1/-1; text-align: center; padding: 40px; color: #666;">
                            <i class="fas fa-box-open" style="font-size: 48px; margin-bottom: 15px; display: block;"></i>
                            <div>–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç</div>
                            <div style="font-size: 14px; margin-top: 10px;">–í—ã–∏–≥—Ä–∞–π—Ç–µ NFT –ø—Ä–∏ —Å—Ç–∞–≤–∫–µ –æ—Ç 2 TON</div>
                        </div>
                    </div>
                </div>
                
                <div class="history">
                    <h3>üìú –ò–°–¢–û–†–ò–Ø –ò–ì–†</h3>
                    <ul class="history-list" id="historyList">
                        <!-- –ò—Å—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç —Ç—É—Ç -->
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è NFT -->
    <div class="modal" id="nftModal">
        <div class="modal-content">
            <h2 style="color: #00ffaa; margin-bottom: 20px;">üéâ –ü–û–ó–î–†–ê–í–õ–Ø–ï–ú!</h2>
            <div style="width: 200px; height: 200px; margin: 20px auto; border-radius: 10px; overflow: hidden; border: 3px solid #00ccff;">
                <img id="modalNftImage" src="" alt="" style="width: 100%; height: 100%; object-fit: cover;">
            </div>
            <h3 id="modalNftName" style="color: #00ffaa; margin: 15px 0;"></h3>
            <p style="font-size: 18px; color: #ffcc00; margin-bottom: 10px;">–í—ã –ø–æ–ª—É—á–∏–ª–∏ NFT!</p>
            <p>–°—Ç–æ–∏–º–æ—Å—Ç—å: <span id="modalNftValue" style="color: #ffcc00; font-weight: bold;"></span></p>
            <p>–ö–æ–ª–ª–µ–∫—Ü–∏—è: <span id="modalNftCollection" style="color: #a0e7ff;"></span></p>
            <button onclick="closeModal()" style="margin-top: 25px; padding: 12px 30px; background: #0088cc; color: white; border: none; border-radius: 8px; font-size: 16px; cursor: pointer;">
                –ó–ê–ö–†–´–¢–¨
            </button>
        </div>
    </div>

    <script>
        // ============ –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø NFT ============
        // –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö NFT —Å –∏–º–µ–Ω–∞–º–∏ —Ñ–∞–π–ª–æ–≤ PNG
        const nftDatabase = [
            {
                id: 1,
                name: "Stoop Dogg #482955",
                value: 19,
                collection: "Stoop Dogg",
                // !!! –í–ê–ñ–ù–û: –°–æ–∑–¥–∞–π—Ç–µ PNG —Ñ–∞–π–ª —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º:
                // stoop-dogg-482955.png
                png: "stoop-dogg-482955.png"
            },
            {
                id: 2,
                name: "Desk Calendar #71663",
                value: 2.29,
                collection: "Desk Calendar",
                // –§–∞–π–ª: desk-calendar-71663.png
                png: "desk-calendar-71663.png"
            },
            {
                id: 3,
                name: "Perfume Bottle #1247",
                value: 90,
                collection: "Perfume Bottle",
                // –§–∞–π–ª: perfume-bottle-1247.png
                png: "perfume-bottle-1247.png"
            },
            {
                id: 4,
                name: "Lol Pop #426062",
                value: 2.29,
                collection: "Lol Pop",
                // –§–∞–π–ª: lol-pop-426062.png
                png: "lol-pop-426062.png"
            },
            {
                id: 5,
                name: "Instant Ramen #221988",
                value: 2.29,
                collection: "Instant Ramen",
                // –§–∞–π–ª: instant-ramen-221988.png
                png: "instant-ramen-221988.png"
            },
            {
                id: 6,
                name: "Lock Bag #5246",
                value: 220,
                collection: "Lock Bag",
                // –§–∞–π–ª: lock-bag-5246.png
                png: "lock-bag-5246.png"
            },
            {
                id: 7,
                name: "Desk Calendar #327270",
                value: 2.29,
                collection: "Desk Calendar",
                // –§–∞–π–ª: desk-calendar-327270.png
                png: "desk-calendar-327270.png"
            },
            {
                id: 8,
                name: "Signet Ring #14706",
                value: 44,
                collection: "Signet Ring",
                // –§–∞–π–ª: signet-ring-14706.png
                png: "signet-ring-14706.png"
            },
            {
                id: 9,
                name: "Stoop Dogg #166611",
                value: 6.66,
                collection: "Stoop Dogg",
                // –§–∞–π–ª: stoop-dogg-166611.png
                png: "stoop-dogg-166611.png"
            },
            {
                id: 10,
                name: "Lush Bouquet #6206",
                value: 50,
                collection: "Lush Bouquet",
                // –§–∞–π–ª: lush-bouquet-6206.png
                png: "lush-bouquet-6206.png"
            },
            {
                id: 11,
                name: "Instant Ramen #271096",
                value: 2.3,
                collection: "Instant Ramen",
                // –§–∞–π–ª: instant-ramen-271096.png
                png: "instant-ramen-271096.png"
            },
            {
                id: 12,
                name: "Scared Cat #2336",
                value: 80,
                collection: "Scared Cat",
                // –§–∞–π–ª: scared-cat-2336.png
                png: "scared-cat-2336.png"
            },
            {
                id: 13,
                name: "Whip Cupcake #12104",
                value: 2.3,
                collection: "Whip Cupcake",
                // –§–∞–π–ª: whip-cupcake-12104.png
                png: "whip-cupcake-12104.png"
            },
            {
                id: 14,
                name: "Lunar Snake #107427",
                value: 2.3,
                collection: "Lunar Snake",
                // –§–∞–π–ª: lunar-snake-107427.png
                png: "lunar-snake-107427.png"
            }
        ];

        // –ë–ê–ó–û–í–´–ô URL –¥–ª—è PNG —Ñ–∞–π–ª–æ–≤
        // !!! –í–ê–ñ–ù–û: –ü–æ–ª–æ–∂–∏—Ç–µ –≤—Å–µ PNG —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫—É "nft-images" 
        // —Ä—è–¥–æ–º —Å HTML —Ñ–∞–π–ª–æ–º –∏–ª–∏ —É–∫–∞–∂–∏—Ç–µ —Å–≤–æ–π URL
        const NFT_BASE_URL = "nft-images/"; // –ü–∞–ø–∫–∞ —Å PNG
        
        // –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GitHub:
        // const NFT_BASE_URL = "https://raw.githubusercontent.com/–≤–∞—à-–ª–æ–≥–∏–Ω/—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π/main/nft-images/";

        // ============ –ò–ì–†–û–í–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï ============
        let balance = 1000;
        let betAmount = 5;
        let currentMultiplier = 1.00;
        let isFlying = false;
        let flightInterval;
        let currentNft = null;
        let userInventory = [];

        // ============ DOM –≠–õ–ï–ú–ï–ù–¢–´ ============
        const rocket = document.getElementById('rocket');
        const rocketContainer = document.getElementById('rocketContainer');
        const balanceElement = document.getElementById('balanceValue');
        const multiplierElement = document.getElementById('multiplierValue');
        const potentialWinElement = document.getElementById('potentialWin');
        const launchBtn = document.getElementById('launchBtn');
        const cashoutBtn = document.getElementById('cashoutBtn');
        const customBetInput = document.getElementById('customBet');
        const nftImage = document.getElementById('nftImage');
        const nftName = document.getElementById('nftName');
        const nftValue = document.getElementById('nftValue');
        const nftCollection = document.getElementById('nftCollection');
        const inventoryGrid = document.getElementById('inventoryGrid');
        const historyList = document.getElementById('historyList');
        const nftModal = document.getElementById('nftModal');
        const modalNftImage = document.getElementById('modalNftImage');
        const modalNftName = document.getElementById('modalNftName');
        const modalNftValue = document.getElementById('modalNftValue');
        const modalNftCollection = document.getElementById('modalNftCollection');

        // ============ –§–£–ù–ö–¶–ò–ò ============
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        function init() {
            updateBalanceDisplay();
            updateMultiplierDisplay();
            loadInventory();
            setBet(5);
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏ –≤ –∏—Å—Ç–æ—Ä–∏—é
            addHistory('win', 5, 3.45, 17.25);
            addHistory('loss', 10, 2.18);
            addHistory('nft', 2, 8.91, 17.82, "Stoop Dogg #482955", 19);
        }

        // –í—ã–±–æ—Ä —Å–ª—É—á–∞–π–Ω–æ–≥–æ NFT
        function selectRandomNft() {
            const randomIndex = Math.floor(Math.random() * nftDatabase.length);
            currentNft = nftDatabase[randomIndex];
            updateNftDisplay(currentNft);
            return currentNft;
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è NFT
        function updateNftDisplay(nft) {
            if (nft && nft.png) {
                const imageUrl = NFT_BASE_URL + nft.png;
                nftImage.src = imageUrl;
                nftImage.alt = nft.name;
                nftName.textContent = nft.name;
                nftValue.textContent = `~ ${nft.value.toFixed(2)} TON`;
                nftCollection.textContent = nft.collection;
                
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º fallback –µ—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è
                nftImage.onerror = function() {
                    this.src = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200' viewBox='0 0 200 200'%3E%3Crect width='200' height='200' fill='%23001122'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' font-family='Arial' font-size='14' fill='%2300ccff'%3E" + 
                    encodeURIComponent(nft.name) + "%3C/text%3E%3C/svg%3E";
                };
            }
        }

        // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞–≤–∫–∏
        function setBet(amount) {
            betAmount = amount;
            customBetInput.value = amount;
            updateBetButtons();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º NFT —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Å—Ç–∞–≤–∫–∞ >= 2 TON
            if (amount >= 2) {
                if (!currentNft) selectRandomNft();
                updateNftDisplay(currentNft);
            } else {
                // –û—á–∏—â–∞–µ–º –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —Å—Ç–∞–≤–æ–∫
                nftImage.src = "";
                nftName.textContent = "NFT Preview";
                nftValue.textContent = "~ 0.00 TON";
                nftCollection.textContent = "–°–¥–µ–ª–∞–π—Ç–µ —Å—Ç–∞–≤–∫—É –æ—Ç 2 TON";
            }
        }

        // –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —Å—Ç–∞–≤–∫–∏
        function adjustBet(change) {
            let current = parseFloat(customBetInput.value);
            current += change;
            if (current < 0.1) current = 0.1;
            if (current > 1000) current = 1000;
            customBetInput.value = current.toFixed(1);
            setBet(current);
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ —Å—Ç–∞–≤–æ–∫
        function updateBetButtons() {
            document.querySelectorAll('.bet-buttons .bet-btn').forEach(btn => {
                btn.classList.remove('active');
                if (parseFloat(btn.textContent) === betAmount) {
                    btn.classList.add('active');
                }
            });
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
        function updateBalanceDisplay() {
            balanceElement.textContent = `${balance.toFixed(2)} TON`;
            localStorage.setItem('qqvk_balance', balance.toString());
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–Ω–æ–∂–∏—Ç–µ–ª—è
        function updateMultiplierDisplay() {
            multiplierElement.textContent = `x${currentMultiplier.toFixed(2)}`;
            const winAmount = betAmount * currentMultiplier;
            potentialWinElement.textContent = `${winAmount.toFixed(2)} TON`;
        }

        // –ó–∞–ø—É—Å–∫ —Ä–∞–∫–µ—Ç—ã
        function launchRocket() {
            if (isFlying || balance < betAmount) return;
            
            balance -= betAmount;
            updateBalanceDisplay();
            
            currentMultiplier = 1.00;
            isFlying = true;
            rocket.style.bottom = '50px';
            
            launchBtn.disabled = true;
            cashoutBtn.disabled = false;
            
            // –í—ã–±–∏—Ä–∞–µ–º –Ω–æ–≤—ã–π NFT –¥–ª—è –ø–æ–ª–µ—Ç–∞
            if (betAmount >= 2) {
                selectRandomNft();
            }
            
            addHistory('launch', betAmount);
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –ø–æ–ª–µ—Ç
            flightInterval = setInterval(() => {
                currentMultiplier += 0.02 + Math.random() * 0.04;
                const currentBottom = parseFloat(rocket.style.bottom);
                rocket.style.bottom = `${currentBottom + 3}px`;
                
                updateMultiplierDisplay();
                
                // –®–∞–Ω—Å –≤–∑—Ä—ã–≤–∞
                const explosionChance = 0.001 + (currentBottom / 8000);
                if (Math.random() < explosionChance && isFlying) {
                    explodeRocket();
                }
                
                // –ê–≤—Ç–æ–≤—ã–≤–æ–¥ –Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –≤—ã—Å–æ—Ç–µ
                if (currentBottom > 350) {
                    cashout();
                }
            }, 80);
        }

        // –í–∑—Ä—ã–≤ —Ä–∞–∫–µ—Ç—ã
        function explodeRocket() {
            if (!isFlying) return;
            
            isFlying = false;
            clearInterval(flightInterval);
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –≤–∑—Ä—ã–≤–∞
            const explosion = document.createElement('div');
            explosion.style.position = 'absolute';
            explosion.style.left = `${rocket.offsetLeft}px`;
            explosion.style.top = `${rocket.offsetTop}px`;
            explosion.style.width = '100px';
            explosion.style.height = '100px';
            explosion.style.background = 'radial-gradient(circle, #ff3300, #ff9900, transparent)';
            explosion.style.borderRadius = '50%';
            explosion.style.animation = 'explode 0.5s forwards';
            rocketContainer.appendChild(explosion);
            
            // –°–∫—Ä—ã–≤–∞–µ–º —Ä–∞–∫–µ—Ç—É
            rocket.style.opacity = '0';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏
            launchBtn.disabled = false;
            cashoutBtn.disabled = true;
            
            addHistory('loss', betAmount, currentMultiplier);
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —á–µ—Ä–µ–∑ —Å–µ–∫—É–Ω–¥—É
            setTimeout(() => {
                explosion.remove();
                rocket.style.opacity = '1';
                rocket.style.bottom = '50px';
                currentMultiplier = 1.00;
                updateMultiplierDisplay();
                
                // –ù–æ–≤—ã–π NFT –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π –∏–≥—Ä—ã
                if (betAmount >= 2) {
                    selectRandomNft();
                }
            }, 1000);
        }

        // –ó–∞–±—Ä–∞—Ç—å NFT
        function cashout() {
            if (!isFlying) return;
            
            isFlying = false;
            clearInterval(flightInterval);
            
            const winAmount = betAmount * currentMultiplier;
            balance += winAmount;
            updateBalanceDisplay();
            
            launchBtn.disabled = false;
            cashoutBtn.disabled = true;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–æ–ª—É—á–∞–µ—Ç –ª–∏ –∏–≥—Ä–æ–∫ NFT
            let nftWon = null;
            if (betAmount >= 2 && currentMultiplier >= 1.5) {
                nftWon = currentNft;
                addNftToInventory(nftWon);
                showNftModal(nftWon, winAmount);
            } else {
                addHistory('win', betAmount, currentMultiplier, winAmount);
            }
            
            // –°–±—Ä–æ—Å —Ä–∞–∫–µ—Ç—ã
            setTimeout(() => {
                rocket.style.bottom = '50px';
                currentMultiplier = 1.00;
                updateMultiplierDisplay();
                
                if (betAmount >= 2) {
                    selectRandomNft();
                }
            }, 1500);
        }

        // –î–æ–±–∞–≤–∏—Ç—å NFT –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
        function addNftToInventory(nft) {
            const inventoryItem = {
                ...nft,
                id: Date.now(),
                acquired: new Date().toISOString()
            };
            
            userInventory.push(inventoryItem);
            updateInventoryDisplay();
            saveInventory();
            return inventoryItem;
        }

        // –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
        function updateInventoryDisplay() {
            inventoryGrid.innerHTML = '';
            
            if (userInventory.length === 0) {
                inventoryGrid.innerHTML = `
                    <div style="grid-column: 1/-1; text-align: center; padding: 40px; color: #666;">
                        <i class="fas fa-box-open" style="font-size: 48px; margin-bottom: 15px; display: block;"></i>
                        <div>–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç</div>
                        <div style="font-size: 14px; margin-top: 10px;">–í—ã–∏–≥—Ä–∞–π—Ç–µ NFT –ø—Ä–∏ —Å—Ç–∞–≤–∫–µ –æ—Ç 2 TON</div>
                    </div>
                `;
                return;
            }
            
            userInventory.forEach(nft => {
                const item = document.createElement('div');
                item.className = 'inventory-item';
                item.onclick = () => showNftDetails(nft);
                
                const img = document.createElement('img');
                img.src = NFT_BASE_URL + nft.png;
                img.alt = nft.name;
                img.onerror = function() {
                    this.src = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80' viewBox='0 0 80 80'%3E%3Crect width='80' height='80' fill='%23001122'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' font-family='Arial' font-size='8' fill='%2300ccff'%3ENFT%3C/text%3E%3C/svg%3E";
                };
                
                const name = document.createElement('div');
                name.textContent = nft.name.length > 12 ? nft.name.substring(0, 10) + '...' : nft.name;
                name.style.fontSize = '10px';
                name.style.marginTop = '5px';
                name.style.color = '#ffffff';
                
                const value = document.createElement('div');
                value.textContent = `${nft.value} TON`;
                value.style.fontSize = '9px';
                value.style.color = '#ffcc00';
                value.style.marginTop = '2px';
                
                item.appendChild(img);
                item.appendChild(name);
                item.appendChild(value);
                inventoryGrid.appendChild(item);
            });
        }

        // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
        function saveInventory() {
            localStorage.setItem('qqvk_inventory', JSON.stringify(userInventory));
        }

        // –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
        function loadInventory() {
            const saved = localStorage.getItem('qqvk_inventory');
            if (saved) {
                userInventory = JSON.parse(saved);
                updateInventoryDisplay();
            }
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ NFT
        function showNftModal(nft, cashWin = 0) {
            modalNftImage.src = NFT_BASE_URL + nft.png;
            modalNftName.textContent = nft.name;
            modalNftValue.textContent = `${nft.value.toFixed(2)} TON`;
            modalNftCollection.textContent = nft.collection;
            
            addHistory('nft', betAmount, currentMultiplier, cashWin, nft.name, nft.value);
            nftModal.style.display = 'flex';
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª–∏ NFT
        function showNftDetails(nft) {
            modalNftImage.src = NFT_BASE_URL + nft.png;
            modalNftName.textContent = nft.name;
            modalNftValue.textContent = `${nft.value.toFixed(2)} TON`;
            modalNftCollection.textContent = nft.collection;
            
            // –ú–µ–Ω—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
            document.querySelector('#nftModal h2').textContent = 'üé® –í–ê–® NFT';
            nftModal.style.display = 'flex';
        }

        // –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
        function closeModal() {
            nftModal.style.display = 'none';
            // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫
            document.querySelector('#nftModal h2').textContent = 'üéâ –ü–û–ó–î–†–ê–í–õ–Ø–ï–ú!';
        }

        // –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ –∏—Å—Ç–æ—Ä–∏—é
        function addHistory(type, bet, multiplier = 0, win = 0, nftName = null, nftValue = 0) {
            const item = document.createElement('li');
            item.className = 'history-item ' + type;
            
            const now = new Date();
            const time = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
            
            let content = '';
            if (type === 'launch') {
                content = `üöÄ –ó–∞–ø—É—Å–∫ ${bet} TON`;
            } else if (type === 'win') {
                content = `üí∞ –í—ã–∏–≥—Ä—ã—à x${multiplier.toFixed(2)} +${win.toFixed(2)} TON`;
            } else if (type === 'loss') {
                content = `üí• –í–∑—Ä—ã–≤ x${multiplier.toFixed(2)} -${bet} TON`;
            } else if (type === 'nft') {
                content = `üéÅ NFT "${nftName}" +${win.toFixed(2)} TON`;
            }
            
            item.innerHTML = `
                <span>${content}</span>
                <span style="font-size: 12px; color: #a0e7ff;">${time}</span>
            `;
            
            historyList.insertBefore(item, historyList.firstChild);
            
            // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é
            while (historyList.children.length > 10) {
                historyList.removeChild(historyList.lastChild);
            }
        }

        // ============ –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò –°–û–ë–´–¢–ò–ô ============
        customBetInput.addEventListener('change', function() {
            const value = parseFloat(this.value);
            if (!isNaN(value) && value >= 0.1 && value <= 1000) {
                setBet(value);
            } else {
                this.value = betAmount;
            }
        });

        launchBtn.addEventListener('click', launchRocket);
        cashoutBtn.addEventListener('click', cashout);

        // –¢–µ—Å—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 'i') {
                // Ctrl+I –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–π NFT
                const testNft = nftDatabase[Math.floor(Math.random() * nftDatabase.length)];
                addNftToInventory(testNft);
                showNftModal(testNft, 0);
                e.preventDefault();
            }
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        window.onload = init;
    </script>
</body>
</html>
